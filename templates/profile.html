{% extends "base.html" %}
{% block content %}


<div class="row">
    <div class="col s12 m4">
        <div class="card">
            <div class="card-image">
                {% if user.profile_pic_url %}
					<img class="profile-pic" src="{{ user.profile_pic_url }}" alt="Profile Picture">
				{% else %}
					<img class="profile-pic" src="{{ url_for('static', filename='images/default_user.jpg') }}" alt="Profile Picture">
				{% endif %}
            </div>

            <div class="card-content cyan darken-3 white-text">
                <span class="card-title">{{ user.username.capitalize() }}'s Profile</span>
                <p>
                    {% if user.name %}
                        {{ user.name.capitalize() }}
                    {% endif %}
                </p>
                <p>
                    {% if user.dob %}
                        {{ user.dob }}
                    {% endif %}
                </p>
            </div>
        </div>
    </div>


    <div class="col s12 m6 offset-m1">
        <h2 class="header">About Me</h2>
        <div class="card horizontal">
            <div class="card-stacked">
                <div class="card-content">
                    <p>
                        {% if user.about %}
                            {{ user.about }}
                        {% endif %}</p>
                </div>
                <div class="card-action">
                    <a href="#">This is a link</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Floating Action Button -->
<div class="fixed-action-btn">
    <a class="btn-floating btn-large deep-orange lighten-2">
        <i class="fa-solid fa-ellipsis"></i>
    </a>
    <ul>
      <li><a href="{{ url_for('edit_profile', user=session['user']) }}"
         class="btn-floating"><i class="fa-solid fa-user-pen"></i></a></li>
      <li><a data-target="pic_upload" class="btn-floating modal-trigger"><i class="fa-solid fa-image"></i></a></li>
    </ul>
  </div>

  <!-- Modal -->
  <div id="pic_upload" name="pic_upload" class="modal">
      <div class="modal-content">
          <h4 class="center">Upload Photo URL</h4>
          <form method="POST" action="{{ url_for('upload_pics') }}">
              <div class="input-field">
                  <input type="text" id="profile_pic_url" name="profile_pic_url" required>
                  <label for="profile_pic_url">Image URL</label>
              </div>
              <input type="submit" value="Upload" class="btn">
          </form>
      </div>
      <div class="modal-footer">
          <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
      </div>
  </div>

{% endblock %}